<html>

<head>
    <meta charset="UTF-8">
    <title>Rewards Calculator for BABYHarmony</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <style>
        .inputs {
            color: black !important;
            border: none !important;
            border-radius: 0 !important;
            font-size: 40px !important;
        }

        .panel-default a {
            color: var(--dark) !important;
            FONT-WEIGHT: Regular !important;
            padding: 24px !important;
            line-height: 100% !important;
            font-size: 21px !important;
        }

        .panel-default>.panel-heading a[aria-expanded="true"] {
            background-color: transparent !important;
            color: var(--dark);
        }

        .panel-body {
            padding-bottom: 10px;
            background-color: transparent;
            padding: 24px;
            color: #4C4F59;
            border-radius: 16px;
            font-size: 14px;
            border: 1px solid #e8e8e8;
        }

        .panel-default>.panel-heading {
            background-color: white !important;
            color: var(--dark);
        }


        td:nth-child(3),
        th:nth-child(3) {
            text-align: center;
        }


        #container {
            /* background: linear-gradient(rgb(245 200 215 / 90%), rgb(245 200 215 / 90%)), url(https://babycake.app/wp-content/uploads/2021/07/mian.png) no-repeat 50% 50%; */
            background: transparent;
            background-size: contain;

        }

        .panel-default>.panel-heading {
            color: var(--dark);
            background-color: white;
            border: 1px solid #e8e8e8;
            border-radius: 16px;
            padding: 0;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .panel-default>.panel-heading a {
            display: block;
            padding: 16px 24px;
        }

        .panel-default>.panel-heading a:after {
            content: "";
            position: relative;
            top: 1px;
            display: inline-block;
            font-family: 'Glyphicons Halflings';
            font-style: normal;
            font-weight: 400;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            float: right;
            transition: transform .25s linear;
            -webkit-transition: -webkit-transform .25s linear;
        }

        .panel-default>.panel-heading a[aria-expanded="true"] {
            background-color: #eee;
        }

        .panel-default>.panel-heading a[aria-expanded="true"]:after {
            content: "\2212";
            -webkit-transform: rotate(180deg);
            transform: rotate(180deg);
        }

        .panel-default>.panel-heading a[aria-expanded="false"]:after {
            content: "\002b";
            -webkit-transform: rotate(90deg);
            transform: rotate(90deg);
        }

        .panel-body {
            font-size: 20px;
        }


        @media (max-width: 991px) {
            .container {
                max-width: 90% !important;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="./styles.css">
    <style type="text/css">
        body {
            margin-top: 0 !important;
            padding-top: 0 !important;
        }
    </style>
</head>

<body>
    <!-- MODAL SECTION -------------------->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg " role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">How to get the 24H volume?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">
                    <b>STEP 1:</b> Go to the Dextools page here: <br><a
                        href="https://www.dextools.io/app/pancakeswap/pair-explorer/0xb5e33fe13a821e55ed33c884589a804b1b4f6fd8"
                        target="_blank">https://www.dextools.io/app/pancakeswap/pair-explorer/0xb5e33fe13a821e55ed33c884589a804b1b4f6fd8</a><br>
                    <br><b>STEP 2:</b> Now on the Dextools page find the daily volume like the one circled in red in the
                    example below. Copy the amount you see and paste it in the calculator. For example on the image
                    below the 24h volume in USD would be 16,034,863.18<br><br>
                    <div width="100%" style="text-align: center;">
                        <img style="width: 75%;" src="https://i.imgur.com/LBe2VzF.png"><br>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- TOP SECTION -------------------->
    <div class="container">
        <header class="navbar navbar-expand">
            <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="Bootstrap">
                <img class="logo" src="./logo.png" alt="">
            </a>
            <div>
                <button id="btn-connect" class="btn btn-primary ml-3">Connect Wallet</button>
            </div>
        </header>
        <div class="row ">
            <div class="col-12 flex-center">
                <h2 class="main-header">BABY Harmony Rewards Calculator</h2>
            </div>
            <div class="col-sm-6 col-12">
                <div class="calculator-content">
                    <div class="input-content">
                        <p class="input-title">24H Volume</p>
                        <input type="text" class="input-box inputs form-control" id="hvolume" value="0" min="0"
                            placeholder="0.00" />
                    </div>
                </div>

            </div>
            <div class="col-sm-6 col-12">
                <div class="calculator-content">
                    <div class="input-content second">
                        <p class="input-title">Amount of tokens you own (BABYHarmony)</p>
                        <input type="text" class="input-box inputs form-control" id="tokens" value="0" min="0"
                            placeholder="0.00"></input>
                    </div>
                    <span style="color: red;" id="tokenerror"></span>
                    <span class="usd-converter" id="BABYHarmonytousd">0 USD</span>
                </div>
            </div>

            <!-- CHART SECTION -------------------->
            <div class="chart-container">
                <div class="time-container">
                    <div class="time-content">
                        <p class="estimated">Estimated Daily Earnings</p>
                        <p class="earnings" id="totalusd">$0.00</p>
                        <div class="cake">
                            <p style="margin-right: 8px;" id="totalcake">0.00 token</p>
                            <!-- <img src="img/cake.png" alt="Logo" width="16px" height="16px"> -->
                        </div>
                    </div>
                    <div class="time-content">
                        <p class="estimated">Estimated Monthly Earnings</p>
                        <p class="earnings" id="totalusdmonth">$0.00</p>
                        <div class="cake">
                            <p style="margin-right: 8px;" id="totalcakemonth">0.00 token</p>
                            <!-- <img src="img/cake.png" alt="Logo" width="16px" height="16px"> -->
                        </div>
                    </div>
                    <div class="time-content">
                        <p class="estimated">Estimated Yearly Earnings</p>
                        <p class="earnings" id="totalusdyear">$0.00</p>
                        <div class="cake">
                            <p style="margin-right: 8px;" id="totalcakeyear">0.00 token</p>
                        </div>
                    </div>
                </div>
                <h3>Rewards over time (USD/Day)</h3>
                <div id="container" style="height: 300px"></div>
            </div>

        </div>
    </div>

    <script>
        var pancakeprice, BABYHarmonyprice;

        $('#goback').click(() => {
            window.history.back();
        })

        function parseNumberCustom(e) {
            for (; e.search(",") >= 0;) e = (e + "").replace(",", "");
            return parseInt(e.indexOf(",") >= 3 ? e.split(",")[0] : e.replace(/[^0-9\.]/g, ""))
        }

        $.getJSON(
            "https://api.pancakeswap.info/api/v2/tokens/0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82",
            function (e) {
                pancakeprice = e.data.price
                console.log('pancakeprice', e)
            });

        $.getJSON(
            "https://api.pancakeswap.info/api/v2/tokens/0x2ab6ed0eef712006082c9cf583a6d12676d8f4cb",
            function (e) {
                BABYHarmonyprice = e.data.price * 1e18
                console.log('BABYHarmonyprice', BABYHarmonyprice)
            });
        $.getJSON(
            "https://api.coingecko.com/api/v3/coins/binance-smart-chain/contract/0x2ab6ed0eef712006082c9cf583a6d12676d8f4cb",
            function (e) {
                document.querySelector('#hvolume').value = "$ " + e.market_data.total_volume.usd;
            });
        $("#tokens").on("change keyup", function () {
            let e = 0;
            (e = parseNumberCustom($("#tokens").val())) < 15e4 ? $("#tokenerror").html(
                '<span style="display: block;    padding-top: 5px;"><span style="vertical-align: middle">You need at least 150000 BABYHarmony tokens to receive rewards.</span></span>'
            ) : $("#tokenerror").html("")
        });

        $(".inputs").each(function () {
            $(this).on("change keyup", function () {
                console.log('asd')
                let e = 0;
                let t = 0;
                let a = 0;
                t = parseNumberCustom($("#hvolume").val().replace("$", ""));
                a = parseNumberCustom($("#tokens").val());
                e += t * (1e-10 * a) * .007;
                console.log("volume: " + t)
                console.log("tokens: " + a);
                console.log("sumTotal: " + e);

                $("#BABYHarmonytousd").text((a * BABYHarmonyprice).toFixed(0) + " USD");

                $("#totalusd").text("$" + e.toFixed(2));
                $("#totalcake").html((e / pancakeprice).toFixed(2));

                $("#totalusdmonth").text("$" + (31 * e).toFixed(2));
                $("#totalcakemonth").html((e / pancakeprice * 31).toFixed(2));

                $("#totalusdyear").text("$" + (365 * e).toFixed(2));
                $("#totalcakeyear").html((e / pancakeprice * 365).toFixed(2));

                e = e.toFixed(2);
                $(function () {
                    var t = new Highcharts.Chart({
                        chart: {
                            renderTo: "container",
                            backgroundColor: "rgba(0,0,0,0)"
                        },
                        tooltip: {
                            pointFormat: "{series.name}: <b>{point.y:.2f}</b><br/>",
                            shared: !0
                        },
                        subtitle: {
                            text: "Subtitle"
                        },
                        credits: {
                            enabled: !1
                        },
                        xAxis: {
                            name: "Day",
                            categories: ["1", "2", "3", "4", "5", "6", "7", "8", "9",
                                "10", "11", "12", "13", "14", "15", "16", "17",
                                "18", "19", "20", "21", "22", "23", "24", "25",
                                "26", "27", "28", "29", "30", "31"
                            ]
                        },
                        series: [{
                            showInLegend: !1,
                            name: "Rewards in USD",
                            data: [1 * e, 2 * e, 3 * e, 4 * e, 5 * e, 6 * e, 7 *
                                e, 8 * e, 9 * e, 10 * e, 11 * e, 12 * e,
                            13 * e, 14 * e, 15 * e, 16 * e, 17 * e, 18 *
                            e, 19 * e, 20 * e, 21 * e, 22 * e, 23 * e,
                            24 * e, 25 * e, 26 * e, 27 * e, 28 * e, 29 *
                            e, 30 * e, 31 * e
                            ]
                        }]
                    });
                    t.setTitle({ text: "" });
                    t.setSubtitle({ text: "" });
                    t.yAxis[0].axisTitle.attr({ text: "Rewards in USD" });
                    t.xAxis[0].axisTitle.attr({ text: "Days" })
                })
            })
        });
    </script>
    <script type="text/javascript" src="https://unpkg.com/web3@1.2.11/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@metamask/detect-provider@1.2.0/dist/index.min.js"></script>
    <script type="text/javascript"
        src="https://unpkg.com/@walletconnect/web3-provider@1.6.6/dist/umd/index.min.js"></script>


    <!-- This is our javascript code -->
    <script type="text/javascript" src="/js/index.js"> </script>
</body>

</html>